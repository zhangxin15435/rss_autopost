/**
 * Mediumä¼šè¯ä»¤ç‰ŒèŽ·å–æŒ‡å— - å¢žå¼ºç‰ˆ
 * æä¾›å¤šç§æ–¹æ³•èŽ·å–æ›´æŒä¹…çš„Mediumè®¤è¯ä»¤ç‰Œ
 */

console.log(`
ðŸ” Medium APIä¼šè¯ä»¤ç‰ŒèŽ·å–æŒ‡å— - å¢žå¼ºç‰ˆ
==========================================

Medium APIå‘å¸ƒæ–¹å¼æ¯”æµè§ˆå™¨è‡ªåŠ¨åŒ–æ›´ç¨³å®šã€æ›´å¿«é€Ÿï¼Œæ— éœ€å¤„ç†éªŒè¯ç å’Œå¤æ‚ç™»å½•ã€‚
ä»¥ä¸‹æä¾›å¤šç§æ–¹æ³•èŽ·å–æ›´æŒä¹…çš„è®¤è¯ä»¤ç‰Œã€‚

ðŸ“Š è®¤è¯æ–¹å¼å¯¹æ¯”:

ðŸ¥‡ Method 1: å®˜æ–¹Integration Token (æœ€æŽ¨è)
   âœ… æŒç»­æ—¶é—´ï¼šæ°¸ä¹…æœ‰æ•ˆï¼ˆé™¤éžæ‰‹åŠ¨æ’¤é”€ï¼‰
   âœ… ç¨³å®šæ€§ï¼šæœ€é«˜ï¼Œä¸ä¼šè¿‡æœŸ
   âœ… å®‰å…¨æ€§ï¼šå®˜æ–¹æ”¯æŒï¼Œå¯æŽ§åˆ¶æƒé™
   
ðŸ¥ˆ Method 2: é•¿æœŸSession Cookie (æŽ¨è)
   âœ… æŒç»­æ—¶é—´ï¼š2-6ä¸ªæœˆ
   âœ… ç¨³å®šæ€§ï¼šè¾ƒé«˜ï¼Œéœ€å®šæœŸæ›´æ–°
   âš ï¸  å®‰å…¨æ€§ï¼šéœ€å¦¥å–„ä¿ç®¡
   
ðŸ¥‰ Method 3: æ™®é€šSession Cookie (å¤‡ç”¨)
   âš ï¸  æŒç»­æ—¶é—´ï¼š1-4å‘¨
   âš ï¸  ç¨³å®šæ€§ï¼šä¸€èˆ¬ï¼Œå®¹æ˜“è¿‡æœŸ
   âš ï¸  å®‰å…¨æ€§ï¼šéœ€é¢‘ç¹æ›´æ–°

=== Method 1: å®˜æ–¹Integration Token (æ°¸ä¹…æœ‰æ•ˆ) ===

ðŸ“‹ èŽ·å–æ­¥éª¤:

1ï¸âƒ£  ç™»å½•Mediumè´¦æˆ·
   â€¢ è®¿é—®: https://medium.com
   â€¢ ç¡®ä¿æ‚¨æœ‰Mediumè´¦æˆ·å¹¶å·²ç™»å½•

2ï¸âƒ£  è¿›å…¥è®¾ç½®é¡µé¢
   â€¢ ç‚¹å‡»å³ä¸Šè§’å¤´åƒ â†’ Settings
   â€¢ æˆ–ç›´æŽ¥è®¿é—®: https://medium.com/me/settings

3ï¸âƒ£  èŽ·å–Integration Token
   â€¢ æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨æ‰¾åˆ° "Integration tokens" éƒ¨åˆ†
   â€¢ ç‚¹å‡» "Get integration token"
   â€¢ è¾“å…¥tokenæè¿° (å¦‚: "RSS Auto Publisher")
   â€¢ å¤åˆ¶ç”Ÿæˆçš„token (å½¢å¦‚: 2505c4de9c4b7...)

4ï¸âƒ£  è®¾ç½®çŽ¯å¢ƒå˜é‡
   â€¢ åœ¨ .env æ–‡ä»¶ä¸­æ·»åŠ :
     MEDIUM_INTEGRATION_TOKEN=ä½ çš„integration_token
     MEDIUM_PUBLISH_METHOD=integration

ðŸ’¡ Integration Tokenä¼˜åŠ¿:
   âœ… æ°¸ä¹…æœ‰æ•ˆï¼Œé™¤éžæ‰‹åŠ¨æ’¤é”€
   âœ… æ— éœ€æ‹…å¿ƒè¿‡æœŸé—®é¢˜
   âœ… å®˜æ–¹APIæ”¯æŒï¼Œç¨³å®šå¯é 
   âœ… æƒé™å¯æŽ§ï¼Œæ›´å®‰å…¨

=== Method 2: é•¿æœŸSession Cookie (é«˜æŒä¹…æ€§) ===

ðŸ“‹ èŽ·å–æ­¥éª¤:

1ï¸âƒ£  ä¼˜åŒ–ç™»å½•ç­–ç•¥
   â€¢ ä½¿ç”¨ "Remember me" æˆ–ä¿æŒç™»å½•çŠ¶æ€
   â€¢ é¿å…ä½¿ç”¨æ— ç—•æ¨¡å¼ç™»å½•
   â€¢ å®šæœŸè®¿é—®Mediumä¿æŒæ´»è·ƒ

2ï¸âƒ£  é€‰æ‹©æœ€ä½³ç™»å½•æ—¶æœº
   â€¢ åœ¨ç¨³å®šç½‘ç»œçŽ¯å¢ƒä¸‹ç™»å½•
   â€¢ é¿å…é¢‘ç¹åˆ‡æ¢è®¾å¤‡/æµè§ˆå™¨
   â€¢ å»ºè®®åœ¨å·¥ä½œæ—¥ç™»å½• (æœåŠ¡å™¨è´Ÿè½½è¾ƒä½Ž)

3ï¸âƒ£  èŽ·å–é«˜è´¨é‡Cookie
   æ–¹æ³•A: Chrome DevTools
   â€¢ ç™»å½•MediumåŽï¼ŒæŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·
   â€¢ Application â†’ Storage â†’ Cookies â†’ https://medium.com
   â€¢ æ‰¾åˆ° "sid" cookieï¼Œæ£€æŸ¥ï¼š
     - Expires: åº”æ˜¾ç¤ºè¾ƒè¿œçš„æœªæ¥æ—¥æœŸ
     - SameSite: åº”ä¸º Lax æˆ– None
     - Secure: åº”ä¸º true
   
   æ–¹æ³•B: Networké¢æ¿ (æ›´å‡†ç¡®)
   â€¢ Network â†’ åˆ·æ–°é¡µé¢
   â€¢ æ‰¾åˆ°ä»»æ„è¯·æ±‚ â†’ Headers â†’ Request Headers
   â€¢ å¤åˆ¶å®Œæ•´çš„Cookieå­—ç¬¦ä¸²ä¸­çš„sidå€¼

4ï¸âƒ£  éªŒè¯Cookieè´¨é‡
   â€¢ Cookieé•¿åº¦åº” > 50å­—ç¬¦
   â€¢ åŒ…å«å¤šä¸ªæ®µè½ (ç”¨ç‚¹åˆ†éš”)
   â€¢ è®¾ç½®åŽæµ‹è¯•å‘å¸ƒåŠŸèƒ½

=== Method 3: CookieæŒä¹…æ€§ä¼˜åŒ–æŠ€å·§ ===

ðŸ”§ å»¶é•¿Cookieå¯¿å‘½:

1ï¸âƒ£  ä¿æŒä¼šè¯æ´»è·ƒ
   â€¢ æ¯å‘¨è‡³å°‘è®¿é—®ä¸€æ¬¡Medium
   â€¢ å®šæœŸé˜…è¯»æ–‡ç« æˆ–äº’åŠ¨
   â€¢ é¿å…é•¿æ—¶é—´ä¸æ´»åŠ¨

2ï¸âƒ£  æµè§ˆå™¨è®¾ç½®ä¼˜åŒ–
   â€¢ å…è®¸Mediumå­˜å‚¨Cookie
   â€¢ ä¸è¦è‡ªåŠ¨æ¸…ç†Cookie
   â€¢ æ·»åŠ Mediumåˆ°å—ä¿¡ä»»ç«™ç‚¹

3ï¸âƒ£  ç½‘ç»œçŽ¯å¢ƒç¨³å®š
   â€¢ ä½¿ç”¨å›ºå®šIPåœ°å€
   â€¢ é¿å…é¢‘ç¹æ›´æ¢ç½‘ç»œ
   â€¢ å¯ç”¨HTTPS (è‡ªåŠ¨)

4ï¸âƒ£  å¤šé‡å¤‡ä»½ç­–ç•¥
   â€¢ ä¿å­˜å¤šä¸ªæœ‰æ•ˆçš„sid token
   â€¢ å®šæœŸæ›´æ–°token
   â€¢ è®¾ç½®ç›‘æŽ§æé†’

=== è®¾ç½®çŽ¯å¢ƒå˜é‡ ===

åˆ›å»ºæˆ–æ›´æ–° .env æ–‡ä»¶:

# Method 1: Integration Token (æŽ¨è)
MEDIUM_INTEGRATION_TOKEN=2505c4de9c4b7...
MEDIUM_PUBLISH_METHOD=integration

# Method 2: Session Cookie (å¤‡ç”¨)
MEDIUM_SESSION_TOKEN=ä½ çš„é•¿æœŸsidå€¼
MEDIUM_PUBLISH_METHOD=api

# é€šç”¨é…ç½®
MEDIUM_USER_ID=ä½ çš„ç”¨æˆ·ID (å¯é€‰)

=== æµ‹è¯•å’ŒéªŒè¯ ===

âš¡ éªŒè¯ä»¤ç‰Œæœ‰æ•ˆæ€§:
   pnpm start medium

ðŸ“Š æ£€æŸ¥ä»¤ç‰ŒçŠ¶æ€:
   pnpm start status

ðŸ”„ è‡ªåŠ¨è½®æ¢ç­–ç•¥:
   â€¢ è®¾ç½®å¤šä¸ªå¤‡ç”¨token
   â€¢ ç›‘æŽ§tokençŠ¶æ€
   â€¢ è‡ªåŠ¨åˆ‡æ¢å¤±æ•ˆtoken

=== æ•…éšœæŽ’é™¤ ===

ðŸš¨ å¸¸è§é—®é¢˜:

Tokenè¿‡æœŸå¿«:
   â†’ æ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº†æ— ç—•æ¨¡å¼
   â†’ ç¡®ä¿å¯ç”¨äº†"ä¿æŒç™»å½•"
   â†’ å¢žåŠ Mediumä½¿ç”¨é¢‘çŽ‡

è®¤è¯å¤±è´¥:
   â†’ éªŒè¯tokenæ ¼å¼æ­£ç¡®
   â†’ æ£€æŸ¥ç½‘ç»œè¿žæŽ¥
   â†’ å°è¯•é‡æ–°èŽ·å–token

æƒé™ä¸è¶³:
   â†’ ç¡®è®¤è´¦æˆ·ç±»åž‹æ”¯æŒAPI
   â†’ æ£€æŸ¥è´¦æˆ·çŠ¶æ€æ­£å¸¸
   â†’ éªŒè¯tokenæƒé™è®¾ç½®

=== å®‰å…¨å»ºè®® ===

ðŸ”’ å®‰å…¨æœ€ä½³å®žè·µ:

1. å®šæœŸè½®æ¢token (å»ºè®®3ä¸ªæœˆ)
2. ä¸è¦åœ¨å…¬å…±ä»£ç ä¸­ç¡¬ç¼–ç token
3. ä½¿ç”¨çŽ¯å¢ƒå˜é‡å­˜å‚¨æ•æ„Ÿä¿¡æ¯
4. ç›‘æŽ§tokenä½¿ç”¨æƒ…å†µ
5. å‘çŽ°å¼‚å¸¸ç«‹å³æ’¤é”€token

ðŸ’¡ ç›‘æŽ§è®¾ç½®:
   â€¢ è®¾ç½®tokenè¿‡æœŸæé†’
   â€¢ è®°å½•APIè°ƒç”¨æ—¥å¿—
   â€¢ å®šæœŸå¤‡ä»½é…ç½®

ðŸ“ž éœ€è¦å¸®åŠ©?
   å¦‚æžœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥:
   1. Mediumè´¦æˆ·çŠ¶æ€æ˜¯å¦æ­£å¸¸
   2. æ˜¯å¦æœ‰å‘å¸ƒæƒé™
   3. Tokenæ ¼å¼æ˜¯å¦æ­£ç¡®
   4. ç½‘ç»œè¿žæŽ¥æ˜¯å¦ç¨³å®š

çŽ°åœ¨é€‰æ‹©æœ€é€‚åˆæ‚¨çš„æ–¹æ³•å¼€å§‹å§ï¼ ðŸš€

æŽ¨èé¡ºåº: Integration Token â†’ é•¿æœŸSession Cookie â†’ æ™®é€šSession Cookie
`);

// æä¾›äº¤äº’å¼tokenéªŒè¯
if (import.meta.url === `file://${process.argv[1]}`) {
   console.log('\nðŸ” æƒ³è¦éªŒè¯å½“å‰tokenæœ‰æ•ˆæ€§ï¼Ÿè¿è¡Œ: pnpm start status');
   console.log('ðŸ“¤ æƒ³è¦æµ‹è¯•å‘å¸ƒåŠŸèƒ½ï¼Ÿè¿è¡Œ: pnpm start medium');
   console.log('\næŒ‰ä»»æ„é”®é€€å‡º...');
   process.stdin.setRawMode(true);
   process.stdin.resume();
   process.stdin.on('data', () => process.exit(0));
} 